-- Carregar a biblioteca Orion
local OrionLib = require(game:GetService("ReplicatedStorage"):WaitForChild("OrionLib"))

-- Variáveis
local Player = game.Players.LocalPlayer
local character = Player.Character or Player.CharacterAdded:Wait()
local autoFarmEnabled = false
local meleeWeapon = "Katana"  -- Troque para o nome da sua arma de melee

-- Configuração da janela Orion GUI
local Window = OrionLib:MakeWindow({
    Name = "Meme Sea Melee AutoFarm",
    HidePremium = true,
    IntroEnabled = false
})

-- Função para iniciar o Auto-Farm
function startAutoFarm()
    while autoFarmEnabled do
        local target = findFarmableTarget()
        if target then
            meleeAttack(target)
        end
        wait(1)  -- Delay entre as ações
    end
end

-- Função para parar o Auto-Farm
function stopAutoFarm()
    autoFarmEnabled = false
    print("Auto-farm parado")
end

-- Função para encontrar alvos farmáveis
function findFarmableTarget()
    for _, obj in pairs(workspace:GetChildren()) do
        if obj:IsA("Model") and obj:FindFirstChild("Humanoid") and obj.Humanoid.Health > 0 then
            return obj
        end
    end
    return nil
end

-- Função para realizar o ataque melee
function meleeAttack(target)
    local weapon = character:FindFirstChild(meleeWeapon)
    if weapon then
        local humanoid = target:FindFirstChild("Humanoid")
        if humanoid then
            humanoid:TakeDamage(10)  -- Dano fixo de 10 (ajuste conforme necessário)
            print("Atacando: " .. target.Name)
        end
    else
        print("Arma de melee não encontrada!")
    end
end

-- Função para equipar a arma de melee
function equipWeapon()
    local weapon = character:FindFirstChild(meleeWeapon)
    if weapon then
        local humanoid = character:FindFirstChild("Humanoid")
        if humanoid then
            humanoid:EquipTool(weapon)
            print("Arma equipada: " .. meleeWeapon)
        end
    else
        print("Arma não encontrada!")
    end
end

-- GUI: Botão para iniciar/pausar o Auto-Farm
Window:Button({
    Name = "Iniciar Auto-Farm",
    Callback = function()
        autoFarmEnabled = not autoFarmEnabled
        if autoFarmEnabled then
            startAutoFarm()
        else
            stopAutoFarm()
        end
    end
})

-- GUI: Botão para equipar a arma de melee
Window:Button({
    Name = "Equipar Arma Melee",
    Callback = function()
        equipWeapon()
    end
})

-- GUI: Notificação quando o script é carregado
OrionLib:MakeNotification({
    Name = "Script Carregado",
    Content = "Meme Sea Melee AutoFarm Script Carregado com sucesso!",
    Time = 5
})

-- Funções adicionais
local function updateLevelDisplay()
    local label = Player.PlayerGui.MainGui.PlayerName
    local Level = Player.PlayerData.Level.Value
    local IsMax = Level >= 100  -- Defina o nível máximo conforme necessário
    label.Text = ("%s • Lv. %i%s"):format("Anonymous", Level, IsMax and " (Max)" or "")
end

-- Conectar o evento de atualização do nível
Player.PlayerData.Level:GetPropertyChangedSignal("Value"):Connect(updateLevelDisplay)
updateLevelDisplay()
